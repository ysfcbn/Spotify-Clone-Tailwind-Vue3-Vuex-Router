import{_ as E,r as g,o as a,c as l,b as i,t as m,n as h,i as f,w as p,d as y,f as T,a as I,g as w,F as k,e as A}from"./index.435d933e.js";import{T as z}from"./TrackItems.ceb15f9a.js";import{T as P}from"./TrackItemsHeader.2e86fb71.js";import{A as D}from"./AppOptions.90eb9033.js";import{I as V}from"./Info.e18198f8.js";const S={name:"DiskoOptions",props:{type:{type:String,required:!1}},data(){return{active:!1,diskografiOption:!1,all:!0,albums:!1,singlesEps:!1,compilations:!1}},methods:{togglediskografiOptions(){this.diskografiOption=!this.diskografiOption,this.active=!this.active},close(e){this.$el.contains(e.target)||(this.diskografiOption=!1,this.active&&(this.active=!1))}},computed:{curWidth(){return this.getSelectredType==="all"?"w-[5rem]":this.getSelectredType==="singles"?"w-[10rem]":"w-[6.5rem]"},isCompExist(){return this.$store.getters["discography/isCompExist"]},getSelectredType(){return this.$store.getters["discography/getSelectedType"]},activeType(){return this.getSelectredType==="all"?"T\xFCm\xFC":this.getSelectredType==="albums"?"Alb\xFCmler":this.getSelectredType==="singles"?"Single'ler ve EP'ler":this.getSelectredType==="compilations"?"Derlemeler":null}},watch:{},mounted(){document.addEventListener("click",this.close)},beforeUnmount(){console.log("options unmounted!"),document.removeEventListener("click",this.close)}},O={class:"w-full"},$={key:0,role:"img",height:"16",width:"16",viewBox:"0 0 16 16",class:"pointer-events-none"},M=i("path",{fill:"currentColor",d:"M14 6l-6 6-6-6h12z"},null,-1),j=[M],G={key:1,role:"img",height:"16",width:"16",viewBox:"0 0 16 16",class:""},U=i("path",{fill:"currentColor",d:"M14 10L8 4l-6 6h12z"},null,-1),R=[U],N={key:0,class:"type--list z-40 absolute bg-dark2 top-[2.5rem] left-0 p-[4px] min-w-[160px] max-w-[360px] h-fit w-fit text-opacwhite3 whitespace-normal rounded shadow-[0px_15px_15px_1px_rgba(0,0,0,0.4)]"},Y={class:"cursor-default w-full flex justify-between"},W={key:0,role:"img",height:"16",width:"16",viewBox:"0 0 16 16",class:"text-green3"},q=i("path",{fill:"currentColor",d:"M15.53 2.47a.75.75 0 010 1.06L4.907 14.153.47 9.716a.75.75 0 011.06-1.06l3.377 3.376L14.47 2.47a.75.75 0 011.06 0z"},null,-1),J=[q],K={class:"cursor-default w-full flex justify-between"},Q={key:0,role:"img",height:"16",width:"16",viewBox:"0 0 16 16",class:"text-green3"},X=i("path",{fill:"currentColor",d:"M15.53 2.47a.75.75 0 010 1.06L4.907 14.153.47 9.716a.75.75 0 011.06-1.06l3.377 3.376L14.47 2.47a.75.75 0 011.06 0z"},null,-1),Z=[X],ee={class:"cursor-default w-full flex justify-between"},te={key:0,role:"img",height:"16",width:"16",viewBox:"0 0 16 16",class:"text-green3"},se=i("path",{fill:"currentColor",d:"M15.53 2.47a.75.75 0 010 1.06L4.907 14.153.47 9.716a.75.75 0 011.06-1.06l3.377 3.376L14.47 2.47a.75.75 0 011.06 0z"},null,-1),ie=[se],re={class:"cursor-default w-full flex justify-between"},ae={key:0,role:"img",height:"16",width:"16",viewBox:"0 0 16 16",class:"text-green3"},le=i("path",{fill:"currentColor",d:"M15.53 2.47a.75.75 0 010 1.06L4.907 14.153.47 9.716a.75.75 0 011.06-1.06l3.377 3.376L14.47 2.47a.75.75 0 011.06 0z"},null,-1),oe=[le];function ne(e,t,s,d,o,r){const c=g("router-link");return a(),l("button",{onClick:t[0]||(t[0]=(...v)=>r.togglediskografiOptions&&r.togglediskografiOptions(...v)),id:"typeSelection",class:"z-100 relative rounded-md flex items-center justify-between text-opacwhite5 hover:text-white p-1 h-full font-semibold w-fit"},[i("div",{class:h([[r.curWidth],"text-sm min-w-[72px] flex items-center justify-between px-[6px] py-[4px]"])},[i("span",O,m(r.activeType),1),o.active?(a(),l("svg",G,R)):(a(),l("svg",$,j))],2),o.diskografiOption?(a(),l("div",N,[f(c,{to:{name:"discography",params:{type:"all"}},class:"w-full flex justify-start p-[6px] md:p-[8px] hover:bg-dark3"},{default:p(()=>[i("div",Y,[i("span",{class:h([{"text-green3":this.$route.params.type==="all"},"text-xs md:text-sm"])},"T\xFCm\xFC",2),this.$route.params.type==="all"?(a(),l("svg",W,J)):y("",!0)])]),_:1}),f(c,{to:{name:"discography",params:{type:"albums"}},class:"w-full flex justify-start p-[6px] md:p-[8px] hover:bg-dark3"},{default:p(()=>[i("div",K,[i("span",{class:h([{"text-green3":this.$route.params.type==="albums"},"text-xs md:text-sm"])},"Alb\xFCmler",2),this.$route.params.type==="albums"?(a(),l("svg",Q,Z)):y("",!0)])]),_:1}),f(c,{to:{name:"discography",params:{type:"singles"}},class:"w-full flex justify-start p-[6px] md:p-[8px] hover:bg-dark3"},{default:p(()=>[i("div",ee,[i("span",{class:h([{"text-green3":this.$route.params.type==="singles"},"text-xs md:text-sm w-full flex"])},"Single'lar ve EP'ler",2),this.$route.params.type==="singles"?(a(),l("svg",te,ie)):y("",!0)])]),_:1}),r.isCompExist?(a(),T(c,{key:0,to:{name:"discography",params:{type:"compilations"}},class:"w-full flex justify-start p-[6px] md:p-[8px] hover:bg-dark3"},{default:p(()=>[i("div",re,[i("span",{class:h([{"text-green3":this.$route.params.type==="compilations"},"text-xs md:text-sm"])},"Derlemeler",2),this.$route.params.type==="compilations"?(a(),l("svg",ae,oe)):y("",!0)])]),_:1})):y("",!0)])):y("",!0)])}var de=E(S,[["render",ne]]);const ce={components:{TrackItems:z,TrackItemsHeader:P,AppOptions:D},props:["data","diskografiPage","renderTypes","indx","viewList"],data(){return{options:"",appOptions:!1,leftClick:!1,firstElement:!1,observer:null,margin:!0,headerHeight:document.getElementById("header").getBoundingClientRect().height,bodyHeight:document.body.getBoundingClientRect().height,contextType:"album",playlistTracks:[]}},computed:{isAuth(){return this.$store.getters.isAuth},getToken(){return this.$store.getters.accessToken},indexCalc(){return+this.indx==0},albumType(){var e,t;return((e=this.data)==null?void 0:e.album_type.charAt(0).toUpperCase())+((t=this.data)==null?void 0:t.album_type.slice(1))},currentSectionAlbumsID(){return this.$store.getters["discography/getCurrentSectionAlbumsID"]},allFavAlbums(){return this.$store.getters["albums/getFavAlbums"]},allFavTracks(){return this.$store.getters["favTracks/getTracks"].items},getFavTracksonalbum(){return this.$store.getters["discography/getfavTracksID"]},addGreenHeartEl(){return this.getFavTracksonalbum.map(e=>document.getElementById(`${e}`))},albumTrackItems(){var e;return(e=this.playlistTracks[0])==null?void 0:e.items},getCurrentlyPlayingTrack(){return this.$store.getters["controller/getCurrentlyPlayingTrack"]},currentTrackID(){var e,t;return(t=(e=this.getCurrentlyPlayingTrack)==null?void 0:e.item)==null?void 0:t.id},findCurrentPlayingTrackIndex(){return this.albumTrackItems.indexOf(this.albumTrackItems.find(e=>e.id===this.currentTrackID))},currentPlayingTrackIndex(){return this.findCurrentPlayingTrackIndex+1?this.findCurrentPlayingTrackIndex:0},isPlayingAlbumContextUri(){var e,t,s;return((t=(e=this.getCurrentlyPlayingTrack)==null?void 0:e.context)==null?void 0:t.uri)===this.data.uri&&((s=this.getCurrentlyPlayingTrack)==null?void 0:s.is_playing)}},methods:{trackDuration(e){const t=Math.floor(e/6e4),s=Math.floor(e%6e4/1e3);return t+":"+(s<10?"0":"")+s},cartAlbumYear(e){return new Date(e).getFullYear()},resizeOption(e){if(window.innerHeight<=115){this.bodyHeight=+window.innerHeight;return}return this.observer&&this.diskoEl.forEach(t=>{this.observer.unobserve(t)}),this.bodyHeight=+window.innerHeight,e},async playAlbumContext(e){console.log(e),this.isPlayingAlbumContextUri?await this.$store.dispatch("controller/pauseCurrentTrack"):(e.index=this.currentPlayingTrackIndex,this.currentPlayingTrackIndex?await this.$store.dispatch("controller/playCurrentTrack",e):await this.$store.dispatch("controller/playSelectedContext",e))},async fetchPlaylistTracks(e,t){await I.get(`https://api.spotify.com/v1/albums/${t[e].id}/tracks`,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.getToken}}).then(({data:s})=>{this.playlistTracks.push(s)}).catch(s=>console.log(s))},async fetchFavAlbums(){return await I.get("https://api.spotify.com/v1/me/albums",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+await this.getToken}}).then(({data:e})=>{this.$store.dispatch("albums/favAlbums",e.items)}).catch(e=>console.log(e))},isFavAlbum(e){var t;return((t=this.allFavAlbums)==null?void 0:t.filter(s=>s.album.id===e).length)>0},optionUnfollowID(e){this.unFollowAlbum(e,!1)},async unFollowAlbum(e,t){let s;e?s=e:s=t.target.closest(".heartBtn").id,this.isFavAlbum(s)?await I.delete("https://api.spotify.com/v1/me/albums?ids="+s,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+await this.getToken}}).then(d=>{if(d.status===200){let o=document.getElementById(s);o.classList.add("animationEmptyHeart"),o.classList.remove("animationGreenHeart"),this.$store.dispatch("controller/modalInfoType",{type:"album",status:!1}),this.fetchFavAlbums()}}).catch(d=>console.log(d)):await this.followAlbum(s)},async followAlbum(e){await fetch("https://api.spotify.com/v1/me/albums?ids="+e,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+await this.getToken}}).then(t=>{if(t.status===200){let s=document.getElementById(e);s.classList.add("animationGreenHeart"),s.classList.remove("animationEmptyHeart"),this.$store.dispatch("controller/modalInfoType",{type:"album",status:!0}),this.fetchFavAlbums()}}).catch(t=>console.log(t))},findFavTracks(){this.allFavTracks.forEach((e,t)=>{var s;(s=this.playlistTracks[0])==null||s.items.forEach((d,o)=>{e.track.id===d.id&&this.$store.dispatch("discography/favTracksID",d.id)})})},addGreenHeartFavTracks(e=!1){e?(e.children[3].children[0].classList.remove("emptyHeart","animationEmptyHeart"),e.children[3].children[0].classList.add("greenHeart"),e.children[3].children[0].classList.add("animationGreenHeart"),e.children[3].children[0].children[0].children[0].classList.remove("hidden"),e.children[3].children[0].children[0].children[1].classList.add("hidden")):this.addGreenHeartEl.forEach(t=>{t.children[3].children[0].classList.remove("emptyHeart","animationEmptyHeart"),t.children[3].children[0].classList.add("greenHeart"),t.children[3].children[0].children[0].children[0].classList.remove("hidden"),t.children[3].children[0].children[0].children[1].classList.add("hidden")})},removeGreenHeartFavTracks(e){e.children[3].children[0].classList.remove("greenHeart","animationGreenHeart"),e.children[3].children[0].classList.add("emptyHeart"),e.children[3].children[0].classList.add("animationEmptyHeart"),e.children[3].children[0].children[0].children[0].classList.add("hidden"),e.children[3].children[0].children[0].children[1].classList.remove("hidden")},toggleAppOptions(e,t){this.appOptions=!this.appOptions,t.target.closest("#firstElement")?this.firstElement=!0:this.firstElement=!1}},watch:{bodyHeight(e,t){e!==t&&(this.bodyHeight=+e,this.bodyHeight=+this.bodyHeight.toFixed(1),this.headerHeight=this.header.getBoundingClientRect().height+document.getElementById("diskoHeader").getBoundingClientRect().height,this.options={root:document.body,threshold:0,rootMargin:`${11-+(this.headerHeight*100/this.bodyHeight).toFixed(1)}% 0px -${96-+(this.headerHeight*100/this.bodyHeight).toFixed(1)}% 0px`},this.observer&&(this.observer=new IntersectionObserver(s=>{s.forEach(d=>{d.isIntersecting&&this.$store.dispatch("discography/currentDiskoSection",d.target.id),d.isIntersecting||this.$store.dispatch("discography/clearCurrentDiskoSection")})},this.resizeOption(this.options))),this.diskoEl&&this.diskoEl.forEach(s=>{this.observer.observe(s)}))}},async created(){window.addEventListener("resize",this.resizeOption),console.log("ListView Mounted"),await this.currentSectionAlbumsID,await this.allFavAlbums,await this.fetchPlaylistTracks(this.indx,this.renderTypes),this.findFavTracks(),await this.getFavTracksonalbum,this.addGreenHeartFavTracks(),this.header=document.getElementById("header"),this.diskoHeader=document.getElementById("diskoHeader"),this.firstEl=document.getElementById("firstElement"),this.diskoEl=document.querySelectorAll(".disko--title"),this.headerHeight=this.header.getBoundingClientRect().height+document.getElementById("diskoHeader").getBoundingClientRect().height,this.options={root:document.body,threshold:0,rootMargin:`${11-+(this.headerHeight*100/this.bodyHeight).toFixed(1)}% 0px -${96-+(this.headerHeight*100/this.bodyHeight).toFixed(1)}% 0px`},this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(this.$store.dispatch("discography/currentDiskoSection",t.target.id),this.$store.dispatch("controller/showHeaderBtn")),t.isIntersecting||(this.$store.dispatch("discography/clearCurrentDiskoSection"),this.$store.dispatch("controller/closeHeaderBtn"))})},this.options),this.diskoEl&&this.diskoEl.forEach(e=>{this.observer.observe(e)}),this.options2={root:null,threshold:.9},this.observer2=new IntersectionObserver((e,t)=>{e[0].intersectionRatio<=.9?(this.header.classList.add("disko-intersec-bg1"),this.diskoHeader.classList.add("list--view-intersect")):(this.header.classList.remove("disko-intersec-bg1"),this.diskoHeader.classList.remove("list--view-intersect"))},this.options2),this.firstEl&&this.observer2.observe(this.firstEl)},beforeUnmount(){window.removeEventListener("resize",this.resizeOption),this.header&&this.header.classList.remove("disko-intersec-bg1"),this.diskoHeader&&this.diskoHeader.classList.remove("list--view-intersect"),this.$emit("visToggleHeaderDisko",!1),this.$emit("toggleHeaderDisko",!1),this.viewList&&(this.diskoEl&&this.diskoEl.forEach(e=>{this.observer.unobserve(e)}),this.firstEl&&this.observer2.unobserve(this.firstEl))},unmounted(){this.$store.dispatch("controller/closeHeaderBtn"),this.$store.dispatch("discography/clearTracksID")}},he={class:""},ue=["id"],me=["src"],ge={class:"font-semibold text-3xl hover:underline text-white line-clamp-2"},pe={class:"text-sm"},fe={class:"text-lightest"},ve={class:"text-lightest before:content-['\u2022'] before:mx-1"},ye={class:"text-lightest before:content-['\u2022'] before:mx-1"},_e={class:"flex items-center justify-between text-lightest w-[7.5rem]"},ke={role:"img",height:"14",width:"14",viewBox:"0 0 16 16"},be={key:0,fill:"#000",d:"M2.7 1a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7H2.7zm8 0a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-2.6z"},xe={key:1,fill:"#000",d:"M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"},we=["id"],Te={role:"img",height:"24",width:"24",viewBox:"0 0 24 24"},Ce=i("path",{fill:"currentColor",d:"M5.21 1.57a6.757 6.757 0 016.708 1.545.124.124 0 00.165 0 6.741 6.741 0 015.715-1.78l.004.001a6.802 6.802 0 015.571 5.376v.003a6.689 6.689 0 01-1.49 5.655l-7.954 9.48a2.518 2.518 0 01-3.857 0L2.12 12.37A6.683 6.683 0 01.627 6.714 6.757 6.757 0 015.21 1.57zm3.12 1.803a4.757 4.757 0 00-5.74 3.725l-.001.002a4.684 4.684 0 001.049 3.969l.009.01 7.958 9.485a.518.518 0 00.79 0l7.968-9.495a4.688 4.688 0 001.049-3.965 4.803 4.803 0 00-3.931-3.794 4.74 4.74 0 00-4.023 1.256l-.008.008a2.123 2.123 0 01-2.9 0l-.007-.007a4.757 4.757 0 00-2.214-1.194z"},null,-1),He=["id"],Ae=i("svg",{role:"img",height:"26",width:"26",viewBox:"0 0 24 24",class:"hover:text-white"},[i("path",{fill:"currentColor",d:"M4.5 13.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm15 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm-7.5 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})],-1),Ee=[Ae],Le=["id"];function Ie(e,t,s,d,o,r){var C,x,u,H,F;const c=g("router-link"),v=g("AppOptions"),b=g("TrackItemsHeader"),L=g("TrackItems");return a(),l(k,null,[i("div",he,[i("div",{id:r.indexCalc?"firstElement":"",class:h([{"absolute h-[20rem] top-[-6.5rem] w-full ":r.indexCalc},"p-[32px] flex bg-gradient-to-b from-dark1 to-dark relative z-50"])},[i("div",{class:h([{"flex-col justify-end":r.indexCalc},"mr-6 flex shrink-0"])},[i("img",{class:"w-[9rem] h-[9rem]",src:(x=(C=s.data)==null?void 0:C.images[0])==null?void 0:x.url,alt:"track image"},null,8,me)],2),i("div",{class:h(["flex flex-col justify-around",{"mt-[6.8rem]":r.indexCalc,"mt-[-0.3rem]":!r.indexCalc}])},[i("span",ge,[f(c,{to:{name:"album",params:{id:(u=s.data)==null?void 0:u.id}}},{default:p(()=>{var n;return[w(m((n=s.data)==null?void 0:n.name),1)]}),_:1},8,["to"])]),i("div",pe,[i("span",fe,m(r.albumType),1),i("span",ve,m(r.cartAlbumYear(s.data.release_date)),1),i("span",ye,m((H=s.data)==null?void 0:H.total_tracks)+" \u015Fark\u0131",1)]),i("div",_e,[i("div",null,[i("button",{onMousedown:t[0]||(t[0]=n=>o.leftClick=!0),onMouseup:t[1]||(t[1]=n=>o.leftClick=!1),onClick:t[2]||(t[2]=n=>r.playAlbumContext(e.uri={uri:s.data.uri,index:r.currentPlayingTrackIndex,type:o.contextType})),class:h([{"scale-[1] bg-white/50":o.leftClick,"hover:scale-110 bg-white":!o.leftClick},"items-center rounded-full w-fit p-[8px] cursor-default"])},[(a(),l("svg",ke,[r.isPlayingAlbumContextUri?(a(),l("path",be)):(a(),l("path",xe))]))],34)]),i("button",{id:s.renderTypes[s.indx].id,onClick:t[3]||(t[3]=n=>r.unFollowAlbum(e.id=!1,n)),class:h([{greenHeart:r.isFavAlbum(s.renderTypes[s.indx].id),emptyHeart:!r.isFavAlbum(s.renderTypes[s.indx].id)},"heartBtn cursor-default hover:text-white"])},[(a(),l("svg",Te,[Ce,r.isFavAlbum(s.renderTypes[s.indx].id)?(a(),l("path",{key:0,class:h({"text-green3":r.isFavAlbum(s.renderTypes[s.indx].id)}),fill:"currentColor",d:"M8.667 1.912a6.257 6.257 0 00-7.462 7.677c.24.906.683 1.747 1.295 2.457l7.955 9.482a2.015 2.015 0 003.09 0l7.956-9.482a6.188 6.188 0 001.382-5.234l-.49.097.49-.099a6.303 6.303 0 00-5.162-4.98h-.002a6.24 6.24 0 00-5.295 1.65.623.623 0 01-.848 0 6.257 6.257 0 00-2.91-1.568z"},null,2)):y("",!0)]))],10,we),i("button",{onClick:t[4]||(t[4]=n=>r.toggleAppOptions(e._,n)),id:r.indexCalc?"firstElement":"",class:"text-lightest cursor-default w-fit relative"},Ee,8,He),o.appOptions?(a(),T(v,{key:0,id:s.renderTypes[s.indx].id,diskografiPage:s.diskografiPage,firstElement:o.firstElement,isFavAlbum:r.isFavAlbum(s.renderTypes[s.indx].id),onUnFollowAlbumE:r.optionUnfollowID,appOptions:o.appOptions,onToggleAppOptions:r.toggleAppOptions},null,8,["id","diskografiPage","firstElement","isFavAlbum","onUnFollowAlbumE","appOptions","onToggleAppOptions"])):y("",!0)])],2)],10,ue)]),i("div",{id:s.data.name,class:h([{"mt-[-7rem]":r.indexCalc},"playlistContainer relative h-full min-w-[450] mb-5 disko--title sm:mx-5"])},[f(b,{class:"mb-4",margin:o.margin,diskografiPage:s.diskografiPage},null,8,["margin","diskografiPage"]),(a(!0),l(k,null,A((F=o.playlistTracks[0])==null?void 0:F.items,(n,B)=>(a(),T(L,{class:"lg:ml-3",key:n.id,id:n.id,index:B,uri:s.data.uri,itemUri:n.uri,trackID:n.id,contextType:o.contextType,diskografiPage:s.diskografiPage,findFavTracks:r.findFavTracks,addGreenHeartFavTracks:r.addGreenHeartFavTracks,removeGreenHeartFavTracks:r.removeGreenHeartFavTracks},{trackName:p(()=>[w(m(n.name),1)]),artist:p(()=>[(a(!0),l(k,null,A(n.artists,_=>(a(),T(c,{class:"hover:underline",key:_.id,to:{name:"artist",params:{id:_.id}}},{default:p(()=>[w(m(n.artists.length>1?_.name===n.artists[n.artists.length-1].name?_.name:_.name+", ":_.name),1)]),_:2},1032,["to"]))),128))]),duration:p(()=>[w(m(r.trackDuration(e.duration=n.duration_ms)),1)]),_:2},1032,["id","index","uri","itemUri","trackID","contextType","diskografiPage","findFavTracks","addGreenHeartFavTracks","removeGreenHeartFavTracks"]))),128))],10,Le)],64)}var Fe=E(ce,[["render",Ie]]);const Be={name:"CardList",props:["viewCard","renderTypes"],data(){return{}},methods:{cartAlbumYear(e){return new Date(e).getFullYear()},openAlbum(e,t){var s;if(((s=t.target.closest("#playBtn"))==null?void 0:s.id)==="playBtn")console.log("toggle Play/Stop Users");else{const d=t.target.closest(".card--container").id;this.$router.push({name:"album",params:{id:d}})}}},mounted(){this.viewCard&&(console.log("CardList Mounted!"),this.header=document.getElementById("header"),this.diskoHeader=document.getElementById("diskoHeader"),this.CardEl=document.getElementById("cardIntersect"),this.header.classList.remove("disko-intersec-bg1"),this.diskoHeader.classList.remove("list--view-intersect"),this.options={root:null,threshold:.5},this.observer=new IntersectionObserver((e,t)=>{e[0].intersectionRatio<=.5?(console.log(t,e[0].target,e[0]),this.header.classList.add("disko-intersec-bg1"),this.diskoHeader.classList.add("list--view-intersect")):(console.log(t,e[0].target,e[0]),this.header.classList.remove("disko-intersec-bg1"),this.diskoHeader.classList.remove("list--view-intersect"))},this.options),this.observer.observe(this.CardEl))},beforeUnmount(){this.observer.unobserve(this.CardEl),this.header.classList.remove("disko-intersec-bg1"),this.diskoHeader.classList.remove("list--view-intersect")}},ze=i("div",{id:"cardIntersect",class:"h-[7rem]] w-full absolute bg-red top-[-4rem]"},null,-1),Pe={class:"cardWrapper mt-[2rem] sm:mx-[1rem] lg:mx-[2rem]"},De={class:"relative grid grid-cols-colDiscoCard grid-rows-rowDiscoCard gap-5"},Ve=["id"],Se={class:"h-full group"},Oe={class:"w-full mb-5 relative"},$e=["src"],Me=i("div",{class:"right-0 bottom-0 p-2 absolute flex items-center right-0 bottom-0 py-1 px-2 group-hover:block opacity-0 group-hover:opacity-100 transition ease-in duration-200 group-hover:translate-y-[-0.4rem]"},[i("button",{id:"playBtn",class:"p-3 bg-green3 rounded-full cursor-default lg:group-hover:block hover:scale-110 shadow-[0px_5px_6px_2px_rgba(0,0,0,0.4)]"},[i("span",null,[i("svg",{role:"img",height:"24",width:"24",viewBox:"0 0 24 24"},[i("path",{fill:"text-black",d:"M7.05 3.606l13.49 7.788a.7.7 0 010 1.212L7.05 20.394A.7.7 0 016 19.788V4.212a.7.7 0 011.05-.606z"})])])])],-1),je={class:"flex items-middle flex-col justify-center"},Ge={class:"text-white max-w-full truncate"},Ue={class:"text-sm text-lightest w-full mt-2"};function Re(e,t,s,d,o,r){return a(),l(k,null,[ze,i("section",Pe,[i("div",De,[(a(!0),l(k,null,A(s.renderTypes,c=>{var v;return a(),l("div",{onClick:t[0]||(t[0]=b=>r.openAlbum(e._,b)),key:c.id,id:c.id,class:"card--container bg-dark1 hover:bg-opacblack1 ease duration-300 w-full h-auto cursor-pointer rounded-md flex-1 isolate p-4 relative"},[i("div",Se,[i("div",Oe,[i("img",{class:"h-full w-full object-cover",src:(v=c==null?void 0:c.images[0])==null?void 0:v.url,alt:""},null,8,$e),Me]),i("div",je,[i("div",Ge,m(c.name),1),i("div",Ue,m(r.cartAlbumYear(c.release_date)),1)])])],8,Ve)}),128))])])],64)}var Ne=E(Be,[["render",Re]]);const Ye={name:"Diskografi",components:{DiskoOptions:de,ListView:Fe,CardView:Ne,Info:V},emits:["visToggleHeaderDisko","toggleHeaderDisko","sectionTitle","selectedArtistName"],data(){return{diskografiPage:!0,margin:!1,currentPath:"",currentSectionAlbums:[]}},watch:{$route(e,t){let s=e.path.split("/");this.currentPath=s[s.length-1],console.log(this.currentPath),this.$store.dispatch("discography/selectedType",this.currentPath)}},computed:{currentArtist(){return this.$store.getters["artists/getCurrentArtist"]},artistPublications(){var e;return(e=this.$store.getters["artists/getArtistPublications"])==null?void 0:e.items},artistAlbums(){var e;return(e=this.$store.getters["artists/getArtistAlbums"])==null?void 0:e.items},artistSingles(){var e;return(e=this.$store.getters["artists/getArtistSingles"])==null?void 0:e.items},artistCompilations(){var e;return(e=this.$store.getters["artists/getArtistCompilations"])==null?void 0:e.items},selectedType(){return this.getSelectedType==="all"?this.artistPublications:this.getSelectedType==="albums"?this.artistAlbums:this.getSelectedType==="singles"?this.artistSingles:this.getSelectedType==="compilations"?this.artistCompilations:null},getSelectedType(){return this.$store.getters["discography/getSelectedType"]},getDiscoRenderType(){return this.$store.getters["discography/getDiscoRenderType"]},listView(){return this.getDiscoRenderType==="listView"},cardView(){return this.getDiscoRenderType==="cardView"}},methods:{toggleView(e,t){t.target.closest(".view-list")?this.$store.dispatch("discography/discoRenderType","listView"):this.$store.dispatch("discography/discoRenderType","cardView")}},created(){this.diskografiPage=!0,this.selectedType?this.selectedType.forEach(e=>this.currentSectionAlbums.push(e.id)):this.artistPublications.forEach(e=>this.currentSectionAlbums.push(e.id)),this.$store.dispatch("discography/currentSectionAlbumsID",this.currentSectionAlbums)},unmounted(){this.$store.dispatch("controller/closeHeaderBtn")}},We={class:"diskografi relative min-w-[100px]",style:{heigth:"100vh"}},qe={id:"diskoHeader",class:"relative flex items-center justify-between lg:px-8 px-5 w-full py-1 sticky top-[64px]",style:{"z-index":"102"}},Je={class:"text-white w-full font-semibold text-2xl"},Ke=i("svg",{role:"img",height:"16",width:"16",viewBox:"0 0 16 16"},[i("path",{fill:"currentColor",d:"M15 14.5H5V13h10v1.5zm0-5.75H5v-1.5h10v1.5zM15 3H5V1.5h10V3zM3 3H1V1.5h2V3zm0 11.5H1V13h2v1.5zm0-5.75H1v-1.5h2v1.5z"})],-1),Qe=[Ke],Xe=i("svg",{role:"img",height:"16",width:"16",viewBox:"0 0 16 16"},[i("path",{fill:"currentColor",d:"M1 1h6v6H1V1zm1.5 1.5v3h3v-3h-3zM1 9h6v6H1V9zm1.5 1.5v3h3v-3h-3zM9 1h6v6H9V1zm1.5 1.5v3h3v-3h-3zM9 9h6v6H9V9zm1.5 1.5v3h3v-3h-3z"})],-1),Ze=[Xe],et={key:0},tt={key:1},st={class:"sm:pl-5 lg:p-5 lg:ml-[1rem]"};function it(e,t,s,d,o,r){var x;const c=g("router-link"),v=g("DiskoOptions"),b=g("ListView"),L=g("CardView"),C=g("Info");return a(),l("section",We,[i("div",qe,[i("div",Je,[f(c,{class:"hover:underline",to:{name:"artist",params:{id:(x=r.currentArtist)==null?void 0:x.id}}},{default:p(()=>{var u;return[w(m((u=r.currentArtist)==null?void 0:u.name),1)]}),_:1},8,["to"])]),f(v),i("button",{onClick:t[0]||(t[0]=u=>r.toggleView(e.msg,u)),class:h([{"bg-dark2":r.listView},"view-list rounded-full text-opacwhite3 mx-3 p-2 hover:bg-dark2"])},Qe,2),i("button",{onClick:t[1]||(t[1]=u=>r.toggleView(e.msg,u)),class:h([{"bg-dark2":r.cardView},"view-card hover:bg-dark2 rounded-full text-opacwhite3 p-2"])},Ze,2)]),r.listView?(a(),l("div",et,[(a(!0),l(k,null,A(r.selectedType,(u,H)=>(a(),T(b,{key:u.id,indx:H,renderTypes:r.selectedType,data:u,diskografiPage:o.diskografiPage,viewList:r.listView},null,8,["indx","renderTypes","data","diskografiPage","viewList"]))),128))])):(a(),l("div",tt,[f(L,{renderTypes:r.selectedType,viewCard:r.cardView},null,8,["renderTypes","viewCard"])])),i("section",st,[f(C)])])}var dt=E(Ye,[["render",it]]);export{dt as default};
